@import '@ibm/plex/css/ibm-plex.min.css';

/* ===== SHARED BASE STYLES ===== */
:root {
  font-family: "IBM Plex Mono", monospace;
  line-height: 1.5;
  font-weight: 400;
  color-scheme: light dark;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* ===== TYPOGRAPHY SYSTEM ===== */
  /* Base font size: 16px for accessibility and iOS zoom prevention */
  --font-size-base: 1rem;
  
  /* Typography Scale (Major Third - 1.25 ratio) */
  --font-size-xs: 0.75rem;     /* 12px - Small labels, timestamps */
  --font-size-sm: 0.875rem;    /* 14px - Body text, most UI */
  --font-size-base: 1rem;      /* 16px - Standard body, iOS safe */
  --font-size-lg: 1.125rem;    /* 18px - Emphasized text */
  --font-size-xl: 1.25rem;     /* 20px - Small headings */
  --font-size-2xl: 1.5rem;     /* 24px - Medium headings */
  --font-size-3xl: 1.875rem;   /* 30px - Large headings */
  --font-size-4xl: 2.25rem;    /* 36px - Page titles */
  --font-size-5xl: 3rem;       /* 48px - Hero text */
  
  /* Line Heights - Optimized for readability */
  --line-height-tight: 1.25;   /* Headings */
  --line-height-normal: 1.5;   /* Body text */
  --line-height-relaxed: 1.625; /* Large text blocks */
  
  /* Font Weights */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 600;
  
  /* Mobile Typography Adjustments */
  --font-size-mobile-xs: 0.75rem;   /* 12px */
  --font-size-mobile-sm: 0.875rem;  /* 14px */
  --font-size-mobile-base: 1rem;    /* 16px - iOS safe */
  --font-size-mobile-lg: 1.0625rem; /* 17px - Slightly smaller on mobile */
  --font-size-mobile-xl: 1.125rem;  /* 18px */
  --font-size-mobile-2xl: 1.25rem;  /* 20px */
  --font-size-mobile-3xl: 1.5rem;   /* 24px */
  --font-size-mobile-4xl: 1.875rem; /* 30px */

  /* ===== IBM SYSTEM/360 COLOR PALETTE (1960s inspired) ===== */
  /* Base IBM Colors */
  --ibm-blue: #406186;           /* IBM light blue */
  --ibm-red-orange: #982431;     /* IBM red-orange */
  --ibm-dark-gray: #0e0e0e;      /* IBM dark gray */
  --ibm-cream: #d9ceae;          /* IBM cream */
  --ibm-light-gray: #aba184;     /* IBM light gray */
  
  /* IBM 705 Button Colors */
  --ibm705-gray: #373334;        /* IBM 705 gray */
  --ibm705-orange: #94331f;      /* IBM 705 orange */
  --ibm705-teal: #346460;        /* IBM 705 teal */
  --ibm705-salmon: #cb7451;      /* IBM 705 salmon */
  --ibm705-wood-brown: #32241b;  /* IBM 705 wood brown */
  --ibm705-neutral-cream: #c1b58e; /* IBM 705 neutral cream */
  --ibm-dark-teal: #025d5d;      /* IBM dark teal for FeedControls */
  
  /* Extended IBM System/360 1960s Color Palette */
  --ibm-olive-green: #4a5d23;    /* IBM olive green */
  --ibm-burgundy: #a92040;       /* IBM burgundy */
  --ibm-mustard: #c18519;        /* IBM mustard yellow */
  --ibm-slate-blue: #4f6d8e;     /* IBM slate blue */
  --ibm-copper: #b87333;         /* IBM copper */
  --ibm-forest: #2d4a2b;         /* IBM forest green */
  --ibm-rust: #a0522d;           /* IBM rust */
  --ibm-charcoal: #36454f;       /* IBM charcoal */
  --ibm-beige: #f5f5dc;          /* IBM beige */
  --ibm-pewter: #8b8680;         /* IBM pewter */
}

/* ===== DARK MODE THEME (DEFAULT) ===== */
:root {
  color: var(--ibm-pewter);
  background-color: var(--app-bg-color );

  /* App Base Colors */
  --app-bg-color : #000000;
  --app-text-color: var(--ibm-pewter);
  --app-text-secondary: rgba(139, 134, 128, 0.7);
  
  /* Link Colors */
  --link-color: var(--ibm-slate-blue);          /* Default link color - IBM slate blue */
  --link-hashtag: var(--ibm-blue);              /* Hashtag links - IBM blue */
  --link-hashtag-hover: var(--ibm-slate-blue);      /* Hashtag hover */
  --link-image: var(--ibm-slate-blue);          /* Image links - slate blue */
  --link-image-hover: var(--ibm-blue);          /* Image hover */
  --link-note: var(--ibm705-salmon);            /* Note/nevent links - salmon */
  --link-note-hover: var(--ibm-copper);         /* Note hover */
  --link-profile: var(--ibm705-teal);           /* Profile/npub links - teal */
  --link-profile-hover: var(--ibm-blue);        /* Profile hover */
  --link-external: var(--ibm705-teal);          /* External links - IBM teal */
  --link-external-hover: var(--ibm-dark-teal);  /* External hover - IBM dark teal */
  
  /* Action Button Colors */
  --btn-primary: var(--ibm705-orange);          /* Primary action buttons */
  --btn-primary-hover: var(--ibm-red-orange);   /* Primary hover */
  --btn-secondary: var(--ibm705-gray);          /* Secondary buttons */

  /* Theme-aware colors */
  --theme-aware-accent: var(--ibm-cream);       /* IBM cream for dark mode (default) */
  --logo-color: #ffffff;                        /* White for logo in dark mode */
  --logo-fill-color: var(--ibm-cream);          /* IBM cream for logo text in dark mode */
  
  /* SVG logo styling - use filters to change color */
  --logo-filter: none;
  --blue-bg-card: #000000;                      /* Dark blue for cards in dark mode */
  --bg-card: var(--theme-aware-surface);        /* Surface color for cards in dark mode */
  --note-view-header-bg: var(--bg-card);        /* Note view header background in dark mode */
  --note-view-header-text-color: var(--app-text-color); /* Note view header text color in dark mode */

  /* Theme-aware UI elements */
  --theme-aware-border: var(--ibm-pewter);      /* Border color for dark mode */
  --theme-aware-surface: rgba(36, 36, 36, 0.25);  /* Surface color for dark mode - 25% opaque */
  --btn-secondary-hover: var(--ibm-charcoal);   /* Secondary hover */
  --btn-accent: var(--ibm-burgundy);            /* Accent buttons */
  --btn-accent-hover: var(--ibm-rust);          /* Accent hover */
  --profile-header-bg: var(--app-bg-color);     /* Profile header background for dark mode */
  
  /* Selected/Active States */
  --accent-color: var(--ibm-copper);           /* Main accent color - IBM mustard */
  --accent-selected: var(--ibm-copper);         /* Selected state */
  --accent-active: var(--ibm-mustard);          /* Active state */
  --accent-glow-filter: drop-shadow(0 0 2px var(--accent-color));

  /* UI Element Colors */
  --border-color: var(--theme-aware-border);    /* Border color */
  --border-hover: var(--ibm-light-gray);        /* Border hover */
  --surface-color: var(--theme-aware-surface);  /* Surface color */
  --surface-hover: var(--ibm705-gray);          /* Surface hover */

  /* Status Colors */
  --text-success: #00ff00;                      /* Success status color for dark mode */
  --text-failure: #ff0000;                      /* Failure status color for dark mode */
}

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  max-height: 100%;
  overflow: hidden;
  overflow-x: hidden;
  width: 100%;
  max-width: 100vw;
  position: relative;
  /* Remove safe area padding from here - it will be handled in components */
  box-sizing: border-box;
}

body {
  display: flex;
  flex-direction: column;
  min-width: 320px;
  min-height: 100vh;
  max-height: 100vh;
  overflow: hidden;
  overflow-x: hidden;
  width: 100%;
  max-width: 100vw;
  position: relative;
  /* Use dynamic viewport height for mobile */
  min-height: 100dvh;
  max-height: 100dvh;
}

/* PWA-specific styles */
@media (display-mode: standalone) {
  body {
    /* Remove any browser UI padding in standalone mode */
    padding: 0;
    margin: 0;
    /* Ensure full screen coverage */
    min-height: 100vh;
    height: 100vh;
    /* Use dynamic viewport height for mobile */
    min-height: 100dvh;
    height: 100dvh;
    /* Prevent overscroll bounce on iOS */
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
    /* Background color handled by theme-specific rules */
  }
  
  /* Hide any browser chrome that might appear */
  html {
    height: 100vh;
    height: 100dvh;
    overflow: hidden;
  }

  /* Note card spacing - let dynamic sizing handle this */
  .note-card {
    margin-bottom: 0.25rem;
  }

  /* Mobile note content spacing - reduced for better density */
  @media (max-width: 640px) {
    .note-content-container {
      margin-bottom: 0.25rem;
    }
    
    /* Ensure notes have minimal bottom spacing for dynamic sizing */
    .note-card {
      padding-bottom: calc(0.25rem + env(safe-area-inset-bottom));
      margin-bottom: 0.25rem;
    }
    
    /* Ensure virtualized feed items have enough space */
    .notes-container {
      padding-bottom: calc(2rem + env(safe-area-inset-bottom));
    }
  }
}

/* iOS PWA specific styles */
@supports (-webkit-touch-callout: none) {
  body {
    /* Prevent zoom on input focus */
    -webkit-text-size-adjust: 100%;
    /* Prevent pull-to-refresh */
    overscroll-behavior-y: none;
    /* Ensure proper viewport handling */
    height: 100vh;
    height: 100dvh;
    min-height: 100vh;
    min-height: 100dvh;
  }
  
  /* Prevent zoom on input focus for iOS Safari */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="search"],
  input[type="tel"],
  input[type="url"],
  textarea,
  select {
    font-size: 16px !important;
    -webkit-appearance: none;
    border-radius: 0;
  }
  
  /* iOS PWA standalone mode specific fixes */
  @media (display-mode: standalone) {
    body {
      /* Remove any default margins/padding that might cause the gray space */
      margin: 0;
      padding: 0;
      /* Ensure full screen coverage */
      width: 100vw;
      height: 100vh;
      height: 100dvh;
      min-height: 100vh;
      min-height: 100dvh;
      /* Prevent any overflow */
      overflow: hidden;
      /* Prevent overscroll bounce */
      overscroll-behavior: none;
      -webkit-overflow-scrolling: touch;
    }
    
    html {
      /* Ensure html also takes full height */
      height: 100vh;
      height: 100dvh;
      min-height: 100vh;
      min-height: 100dvh;
      overflow: hidden;
    }
    
    #root {
      /* Ensure root element takes full height */
      height: 100vh;
      height: 100dvh;
      min-height: 100vh;
      min-height: 100dvh;
      width: 100vw;
      margin: 0;
      padding: 0;
    }
  }
}

/* Android PWA specific styles */
@media (display-mode: standalone) and (max-width: 768px) {
  body {
    /* Ensure proper viewport handling on Android */
    min-height: 100vh;
    height: 100vh;
  }
}

/* PWA standalone mode - use theme-aware background */
@media (display-mode: standalone) {
  :root {
    background-color: var(--app-bg-color , #000000) !important;
  }
  
  body {
    background-color: var(--app-bg-color , #000000) !important;
  }
  
  html {
    background-color: var(--app-bg-color , #000000) !important;
  }
  
  #root {
    background-color: var(--app-bg-color , #000000) !important;
  }
}

a {
  font-weight: 500;
  color: var(--link-color);
  text-decoration: inherit;
  transition: color 0.25s ease;
}
a:hover {
  color: var(--link-external-hover);
}

/* Specific link type styles */
a[href*="#"] {
  color: var(--link-hashtag);
}
a[href*="#"]:hover {
  color: var(--link-hashtag-hover);
}

a[href*="nostr:note"], a[href*="nostr:nevent"] {
  color: var(--link-note);
}
a[href*="nostr:note"]:hover, a[href*="nostr:nevent"]:hover {
  color: var(--link-note-hover);
}

a[href*="nostr:npub"], a[href*="nostr:nprofile"] {
  color: var(--link-profile);
}
a[href*="nostr:npub"]:hover, a[href*="nostr:nprofile"]:hover {
  color: var(--link-profile-hover);
}

a[href*=".jpg"], a[href*=".jpeg"], a[href*=".png"], a[href*=".gif"], a[href*=".webp"], a[href*=".svg"] {
  color: var(--link-image);
}
a[href*=".jpg"]:hover, a[href*=".jpeg"]:hover, a[href*=".png"]:hover, a[href*=".gif"]:hover, a[href*=".webp"]:hover, a[href*=".svg"]:hover {
  color: var(--link-image-hover);
}

/* External links (http/https) that are not images or videos */
a[href^="http://"], a[href^="https://"] {
  color: var(--link-external);
}
a[href^="http://"]:hover, a[href^="https://"]:hover {
  color: var(--link-external-hover);
}

/* Override for image/video URLs to keep their specific styling */
a[href*=".jpg"], a[href*=".jpeg"], a[href*=".png"], a[href*=".gif"], a[href*=".webp"], a[href*=".svg"],
a[href*=".mp4"], a[href*=".webm"], a[href*=".mov"] {
  color: var(--link-image) !important;
}
a[href*=".jpg"]:hover, a[href*=".jpeg"]:hover, a[href*=".png"]:hover, a[href*=".gif"]:hover, a[href*=".webp"]:hover, a[href*=".svg"]:hover,
a[href*=".mp4"]:hover, a[href*=".webm"]:hover, a[href*=".mov"]:hover {
  color: var(--link-image-hover) !important;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 0;
  border: 1px dotted transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: var(--btn-secondary);
  color: var(--app-text-color);
  cursor: pointer;
  transition: all 0.25s ease;
  /* Ensure buttons are touch-friendly on mobile */
  min-height: 44px;
  min-width: 44px;
}

button:hover {
  background-color: var(--btn-secondary-hover);
  border-color: var(--border-hover);
}

button:focus,
button:focus-visible {
  outline: 2px dotted var(--accent-color);
  outline-offset: 2px;
}

button:disabled {
  background-color: var(--surface-color);
  color: var(--app-text-secondary);
  cursor: not-allowed;
  opacity: 0.7;
  border-color: transparent;
}

button:disabled:hover {
  border-color: transparent;
  background-color: var(--surface-color);
}

/* Primary button styles */
button.btn-primary {
  background-color: var(--btn-primary);
  color: var(--app-text-color);
}

button.btn-primary:hover {
  background-color: var(--btn-primary-hover);
}

/* Accent button styles */
button.btn-accent {
  background-color: var(--btn-accent);
  color: var(--app-text-color);
}

button.btn-accent:hover {
  background-color: var(--btn-accent-hover);
}

/* Selected/Active button styles */
button.selected, button.active {
  background-color: var(--accent-selected);
  border-color: var(--accent-active);
  color: var(--app-text-color);
}

/* Utility classes for link types */
.link-hashtag {
  color: var(--link-hashtag) !important;
}
.link-hashtag:hover {
  color: var(--link-hashtag-hover) !important;
}

.link-image {
  color: var(--link-image) !important;
}
.link-image:hover {
  color: var(--link-image-hover) !important;
}

.link-note {
  color: var(--link-note) !important;
}
.link-note:hover {
  color: var(--link-note-hover) !important;
}

.link-profile {
  color: var(--link-profile) !important;
}
.link-profile:hover {
  color: var(--link-profile-hover) !important;
}

.link-external {
  color: var(--link-external) !important;
}
.link-external:hover {
  color: var(--link-external-hover) !important;
}

/* Utility classes for text colors */
.text-primary {
  color: var(--app-text-color);
}

.text-secondary {
  color: var(--app-text-secondary);
}

.text-accent {
  color: var(--accent-color);
}

/* ===== LIGHT MODE THEME ===== */
[data-theme="light"] {
 

  /* App Base Colors */
  --app-bg-color : #f5efe5;
  --app-text-color: #213547;
  --app-text-secondary: rgba(33, 53, 71, 0.7);

  
  color: var(--app-text-color);
  background-color: var(--app-bg-color );
  /* Link Colors */
  --link-color: var(--ibm-slate-blue);          /* Default link color - IBM slate blue */
  --link-hashtag: var(--ibm-slate-blue);        /* Hashtag links - IBM slate blue */
  --link-hashtag-hover: var(--ibm-blue);    /* Hashtag hover */
  --link-image: var(--ibm705-orange);           /* Image links - IBM orange */
  --link-image-hover: var(--ibm-red-orange);    /* Image hover */
  --link-note: var(--ibm705-orange);            /* Note/nevent links - orange */
  --link-note-hover: var(--ibm-red-orange);     /* Note hover */
  --link-profile: var(--ibm705-teal);           /* Profile/npub links - teal */
  --link-profile-hover: var(--ibm-forest);      /* Profile hover */
  --link-external: var(--ibm-dark-teal);        /* External links - IBM dark teal */
  --link-external-hover: var(--ibm705-teal);    /* External hover - IBM teal */

  /* Action Button Colors */
  --btn-primary: var(--ibm705-orange);          /* Primary action buttons */
  --btn-primary-hover: var(--ibm-red-orange);   /* Primary hover */
  --btn-secondary: var(--ibm-beige);            /* Secondary buttons */
  --btn-secondary-hover: var(--ibm705-neutral-cream); /* Secondary hover */
  --btn-accent: var(--ibm-burgundy);            /* Accent buttons */
  --btn-accent-hover: var(--ibm-rust);          /* Accent hover */

  /* Theme-aware colors */
  --theme-aware-accent: var(--ibm-blue);        /* IBM blue for light mode */
  --logo-color: #000000;                        /* Black for logo in light mode */
  --logo-fill-color: #000000;                   /* Black for logo text in light mode */
  
  /* SVG logo styling - use filters to change color */
  --logo-filter: none;
  --blue-bg-card: #3b5e82;                       /* Light blue for cards in light mode */
  --bg-card: var(--theme-aware-surface);         /* Surface color for cards in light mode */
  --note-view-header-bg: var(--blue-bg-card);    /* Note view header background in light mode */
  --note-view-header-text-color: var(--ibm-cream); /* Note view header text color in light mode */

  /* Theme-aware UI elements */
  --theme-aware-border: var(--ibm-light-gray);  /* Border color for light mode */
  --theme-aware-surface: rgba(217, 206, 174, 0.25);      /* Surface color for light mode - 25% opaque */
  --profile-header-bg: var(--ibm705-orange);    /* Profile header background for light mode */

  /* Selected/Active States */
  --accent-color: var(--ibm705-orange);         /* Main accent color - IBM orange */
  --accent-selected: var(--ibm-mustard);        /* Selected state */
  --accent-active: var(--ibm-mustard);          /* Active state */
  --accent-glow-filter: none;                   /* Disable glow in light mode */

  /* UI Element Colors */
  --border-color: var(--theme-aware-border);    /* Border color */
  --border-hover: var(--ibm-pewter);            /* Border hover */
  --surface-color: var(--theme-aware-surface);  /* Surface color */
  --surface-hover: var(--ibm705-neutral-cream); /* Surface hover */

  /* Status Colors */
  --text-success: #14532d;                      /* Success status color for light mode */
  --text-failure: #991b1b;                      /* Failure status color for light mode */
}

[data-theme="light"] html,
[data-theme="light"] body {
  background-color: var(--app-bg-color );
  color: var(--app-text-color);
}

/* Custom scrollbar styles */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--app-bg-color );
}

::-webkit-scrollbar-thumb {
  background-color: #64748b;
  border-radius: 0;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  scrollbar-width: thin;
  scrollbar-color: #64748b var(--app-bg-color );
  font-family: "IBM Plex Mono", monospace;
}

/* Prevent zoom on input focus for iOS Safari */
.no-zoom-on-focus {
  font-size: 16px !important;
}

/* Globally disable focus highlight for input and textarea elements */
input:focus,
input:focus-visible,
textarea:focus,
textarea:focus-visible {
  outline: none !important;
}

/* ===== TYPOGRAPHY UTILITY CLASSES ===== */
/* Base typography classes */
.text-xs { font-size: var(--font-size-xs); line-height: var(--line-height-normal); }
.text-sm { font-size: var(--font-size-sm); line-height: var(--line-height-normal); }
.text-base { font-size: var(--font-size-base); line-height: var(--line-height-normal); }
.text-lg { font-size: var(--font-size-lg); line-height: var(--line-height-normal); }
.text-xl { font-size: var(--font-size-xl); line-height: var(--line-height-tight); }
.text-2xl { font-size: var(--font-size-2xl); line-height: var(--line-height-tight); }
.text-3xl { font-size: var(--font-size-3xl); line-height: var(--line-height-tight); }
.text-4xl { font-size: var(--font-size-4xl); line-height: var(--line-height-tight); }
.text-5xl { font-size: var(--font-size-5xl); line-height: var(--line-height-tight); }

/* Font weights */
.font-normal { font-weight: var(--font-weight-normal); }
.font-medium { font-weight: var(--font-weight-medium); }
.font-bold { font-weight: var(--font-weight-bold); }

/* Line heights */
.leading-tight { line-height: var(--line-height-tight); }
.leading-normal { line-height: var(--line-height-normal); }
.leading-relaxed { line-height: var(--line-height-relaxed); }

/* Mobile-responsive typography */
@media (max-width: 768px) {
  .text-xs { font-size: var(--font-size-mobile-xs); }
  .text-sm { font-size: var(--font-size-mobile-sm); }
  .text-base { font-size: var(--font-size-mobile-base); }
  .text-lg { font-size: var(--font-size-mobile-lg); }
  .text-xl { font-size: var(--font-size-mobile-xl); }
  .text-2xl { font-size: var(--font-size-mobile-2xl); }
  .text-3xl { font-size: var(--font-size-mobile-3xl); }
  .text-4xl { font-size: var(--font-size-mobile-4xl); }
  
  /* Adjust line heights for mobile readability */
  .text-lg, .text-xl, .text-2xl, .text-3xl, .text-4xl {
    line-height: var(--line-height-normal);
  }
}

/* Checkbox styling for both light and dark modes */
input[type="checkbox"] {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  width: 16px;
  height: 16px;
  border: 2px solid var(--border-color);
  background-color: var(--app-bg-color);
  cursor: pointer;
  position: relative;
  display: inline-block;
  vertical-align: middle;
  transition: all 0.2s ease;
}

input[type="checkbox"]:checked {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
}

input[type="checkbox"]:checked::before {
  content: "âœ“";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--app-bg-color);
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}

input[type="checkbox"]:hover {
  border-color: var(--accent-color);
}

input[type="checkbox"]:focus {
  outline: 2px solid var(--accent-color);
  outline-offset: 2px;
}

/* Media query for iOS devices */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  .no-zoom-on-focus:focus {
    font-size: 16px !important;
  }
}

/* Mobile-specific styles for safe areas */
@media (max-width: 768px) {
  /* Ensure sticky headers respect safe areas */
  .nostr-header {
    position: sticky;
    top: 0;
    z-index: 1000;
    background-color: var(--app-bg-color );
  }
  
  /* Ensure proper scrolling on mobile */
  .nostr-feed {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
  
  /* ASCII art responsive scaling */
  .ascii-container {
    max-width: 100% !important;
    /* Prevent vertical scrolling on mobile */
    max-height: 100vh !important;
    overflow: hidden !important;
  }
  
  /* Remove fixed font size constraint to allow dynamic sizing */
  .ascii-char {
    line-height: 1 !important;
    padding: 0 !important;
    letter-spacing: 0 !important;
  }
}

/* iOS PWA specific styles */
@supports (-webkit-touch-callout: none) {
  @media (display-mode: standalone) {
    /* Ensure the main container starts from the top */
    .nostr-feed {
      padding-top: 0;
      margin-top: 0;
    }
    
    /* Ensure body and html have no gaps */
    body, html {
      margin: 0;
      padding: 0;
    }
    
    /* Ensure proper content display for note content on iOS PWA */
    .note-text {
      /* Allow content to be visible without forced scrolling */
      overflow-y: visible !important;
      -webkit-overflow-scrolling: touch;
      /* Remove height constraints to allow natural content sizing */
      max-height: none !important;
    }
    
    /* Mobile-specific note text styles for iOS PWA */
    .note-text-mobile {
      /* Allow content to be visible without forced scrolling */
      overflow-y: visible !important;
      -webkit-overflow-scrolling: touch;
      /* Allow content to extend beyond viewport */
      max-height: none !important;
      /* Minimal padding for safe areas */
      padding-bottom: env(safe-area-inset-bottom);
    }
    
    /* iOS PWA specific note text styles */
    .note-text-ios-pwa {
      /* Allow content to be visible without forced scrolling */
      overflow-y: visible !important;
      -webkit-overflow-scrolling: touch;
      /* Allow natural content height */
      max-height: none !important;
      /* Minimal padding for safe areas */
      padding-bottom: env(safe-area-inset-bottom);
    }
    
    /* Ensure the notes container allows proper scrolling */
    .notes-container {
      /* Ensure proper touch scrolling */
      -webkit-overflow-scrolling: touch;
      overscroll-behavior: contain;
    }
  }
}

